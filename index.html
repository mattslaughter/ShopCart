<!DOCTYPE html>
<html lang="en">
<!--
This page consists of two sections. A registration form on the left for customers and a product display area on the right.

All necessary files are in the assets folder except for index.html and cart.html.

Try to do everything in the list below but don't worry if you can't solve something, solve whatever you can. You will probably need to work together in order to do everything. There are many different levels of difficulty represented in this challenge.


Stack Rank = Most Important is #1. and so on...

1. Once a user registers once, hide the registration form. (HINT use LocalStorage).

2. Add a Qty input field to the first product display, make sure you are actually capturing and saving that data along with the rest of the form which is already working.

3. Delete the second and third products on index.html.

4. Create an object to save your product information in. (what else besides description, productId and, price will you need to store in your object/array?)

5. Now display the products using the one product that is on the page as a template to dynamically generate and display all the products that are in your object. You can use any combination of objects and arrays you want to solve the problem. The more OOP you use the better but there are many ways to solve this problem so start with whatever you can get that works then refine your code from there.

6. Complete the save product information part of the script below.

7. Create an empty cart button. if you were able to save product info when the user clicks add the remember you'll need to clear both the product info and count from localstorage.

8. Add shipping information to the regsiter form

9. Validate the form inputs

10. Save that data along with the rest.



-->

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">

    <title>Shopping Cart o matic</title>

    <!--  -->
<!-- You can use this as a place to test styles then move them to assets/scc/custom.css -->
    <style>

    </style>

</head>
<body>

    <div class="container" style="margin-top:100px">

   <!-- Signup Form  -->
        <div class="col-md-4">
            <label>First Name</label>
            <input type="text" id="firstName" class="form-control" />
            <label>Last Name</label>
            <input type="text" id="lastName" class="form-control" />
            <label>Email</label>
            <input type="text" id="email" class="form-control" />
            <label>Age</label>
            <input type="text" id="age" class="form-control" />
            <label>Favorite Product Type</label>
            <select id="favoriteProduct" class="form-control">
                <option value="cameras" id="">Cameras</option>
                <option value="clothing" id="">Clothing</option>
                <option value="games" id="">Games</option>
            </select>
            <hr/>
            <a href="cart.html" class="btn btn-success" onclick="saveForm()">Register</a>
            <br/>
            <hr/>
        </div>

   <!--Cart Counter View Cart  -->
        <div id="cartcount"></div> <a href="cart.html">View Cart</a>
        <div class="col-md-6 ">

            <div class="col-md-4">
   <!--Product 1  -->
                <img src="http://placehold.it/460x250/e67e22/ffffff&text=HTML5" class="img-responsive">
                <div class="producttitle">Product 1</div>
                <div class="productprice">
                    <div class="pull-right">
                        <a href="#" class="btn btn-danger btn-sm" role="button" onclick="addToCart('Product 1','1001','$8.95')">ADD</a></div>
                    <div class="pricetext">$8.95</div>
                </div>
                <hr/>
            </div>
            <div class="col-md-4">
   <!--Product 2  -->
                <img src="http://placehold.it/460x250/e67e22/ffffff&text=HTML5" class="img-responsive">
                <div class="producttitle">Product 2</div>
                <div class="productprice">
                    <div class="pull-right"><a href="#" class="btn btn-danger btn-sm" role="button" onclick="addToCart('Product 2','1002','$9.95')">ADD</a></div>
                    <div class="pricetext">$9.95</div>
                </div>
                <hr/>
            </div>
            <div class="col-md-4">
   <!--Product  3 -->
                <img src="http://placehold.it/460x250/e67e22/ffffff&text=HTML5" class="img-responsive">
                <div class="producttitle">Product 3</div>
                <div class="productprice">
                    <div class="pull-right"><a href="#" class="btn btn-danger btn-sm" role="button" onclick="addToCart('Product 3','1003','$10.95')">ADD</a></div>
                    <div class="pricetext">$10.95</div>
                </div>
                <hr/>
            </div>

   <!-- end products -->



        </div>   <!-- end col 6 -->
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>



    </div><!-- end container -->



    <script>

        //
        var cartArray = [];

        // rests cartCount to zero
        //localStorage.setItem( "cartCount", 0);
        var date = new Date();
        var cartCount;

        //Save form inputs to localStorage
        function saveForm() {
            //Get form values
            var fname = document.getElementById('firstName').value;
            var lname = document.getElementById('lastName').value;
            var em = document.getElementById('email').value;
            var age = document.getElementById('age').value;
            var fp = document.getElementById('favoriteProduct').value;

            //Save to localstorage
            localStorage.setItem("firstname", fname);
            localStorage.setItem("lastname", lname);
            localStorage.setItem("email", em);
            localStorage.setItem("age", age);
            localStorage.setItem("favproduct", fp);
            localStorage.setItem("cartcreated", 1);
            localStorage.setItem("firstsetdate", date);

        }
//loads the registration info from localstorage
// you can only save strings in local storage, can't save objects        


        //Adds items to the cart 
        function addToCart(prodId) {
            
            var quantity = document.getElementID(prodID).value
            
            cartCount = localStorage.getItem("cartCount");

            cartCount++;

            localStorage.setItem("cartCount", cartCount);
            showCartCount(cartCount);


            //How would you save the actual product information (desc, prodId, price) to localStorage so that you can save multiple products and display them later on the view cart page? 

        //Hints
        // Put an object into storage
        //localStorage.setItem('testObject', JSON.stringify(testObject));

        // Retrieve the object from storage
        //var retrievedObject = localStorage.getItem('testObject');

        //console.log('retrievedObject:', JSON.parse(retrievedObject));
   
        }

        function showCartCount(cartCount) {
            document.getElementById('cartcount').innerHTML = "Items in Cart: " + cartCount;
        }
        showCartCount(localStorage.getItem("cartCount"));

        // how do we empty the shopping cart? 


        //Complete the function below so that we can not only reset 
        //the count but also remove all the products when the user clicks an empty cart button. 
        function emptyCart() {} 


      

    </script>


</body>

</html>